<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" href="../css/layui.css" />
		<link rel="stylesheet" href="../css/main.css" />
		<link rel="stylesheet" href="../css/layui-theme-dark.css">
		<script src="../js/layui.js"></script>
		<style>
			.logo {
				background-image: url('../static/clashlogo.png');
			}
		</style>
	</head>
	<body>
		<div class="w100 flex jc-c fd-y">
			<!-- logo区域 -->
			<div class="jc-c ai-c flex fd-y mt2">
				<div class="logo"></div>
				<h1 class="layui-font-gray layui-margin-3 layui-font-30">Clash Verge</h1>
				<div class="layui-fluid">
					<div class="layui-col-xs6">
						<button type="button" class="layui-btn layui-btn-radius layui-margin-3" lay-jump="download_app">
							获取Clash(本站)
						</button>
					</div>
					<div class="layui-col-xs6">
						<button type="button" class="layui-btn layui-btn-radius layui-margin-3" lay-jump="jump_page">
							获取Clash(github)
						</button>
					</div>
				</div>
				<div class="layui-fluid">
					<div class="layui-col-xs6">
						<button type="button" class="layui-btn layui-btn-radius layui-margin-3"
							lay-jump="download_app2">
							获取Clash Android
						</button>
					</div>
					<div class="layui-col-xs6">
						<button type="button" class="layui-btn layui-btn-radius layui-margin-3" lay-jump="get_url">
							获取临时订阅链接
						</button>
					</div>
				</div>
				<p class="c-w layui-font-22 layui-margin-3">需配合订阅（机场）节点科学上网</p>
				<p class="c-g84 layui-font-18 layui-margin-3">目前仅支持安卓系统，iOS系统请使用 <a
						href="https://apps.apple.com/tw/app/shadowrocket/id932747118" target="_blank">Shadowrocket</a>
				</p>
				<p class="c-g84 layui-font-18 layui-margin-3">下载时如遇文件下载不全请允许保留文件和允许弹出多窗口</p>
			</div>
			<!-- logo区域 -->
		</div>
	</body>
	<script>
		layui.use(function() {
			var element = layui.element;
			var layer = layui.layer;
			var util = layui.util;
			var $ = layui.$;
			util.on('lay-jump', {
				download_app: function() {
					let down_text = ["../app/ClashVerge1.7z.001", "../app/ClashVerge1.7z.002",
						"../app/ClashVerge.exe"
					]
					let down_num = 0
					let set_time = setInterval(() => {
						util.openWin({
							url: down_text[down_num]
						})
						if (down_num === 2) {
							clearInterval(set_time)
						}
						down_num++
					}, 1000)
				},
				download_app2: function() {
					util.openWin({
						url: "../app/clash.apk"
					})
				},
				jump_page: function() {
					util.openWin({
						url: 'https://github.com/clash-verge-rev/clash-verge-rev/releases'
					})
				},
				get_url: function() {
					layer.alert('', {
						title: '提示',
						content: '已经复制到剪切板，直接粘贴即可'
					}, function(index) {
						navigator.clipboard.writeText(
							'https://dydz.csjc.win/api/v1/client/subscribe?token=f4336e19c305b2c48b615959b6b860bb'
						)
						layer.close(index);
					});
				},
				get_pic: function() {
					layer.photos({
						photos: {
							"title": "演示",
							"start": 0,
							"data": [{
								"alt": "1",
								"pid": 2,
								"src": "../static/clash.png",
							}, {
								"alt": "1",
								"pid": 2,
								"src": "../static/clash1.png",
							}]
						},
						footer: true
					});
				}
			})
		});
	</script>
</html>