import{A as s,B as t,o as e,c as a,w as i,i as o,a as n,p as r,q as l,F as u,s as c,h as d,t as p,u as h,j as m}from"./index-518cc2ab.js";import{_ as g}from"./uni-fab.447ea7cf.js";import{r as f}from"./uni-app.es.439b5666.js";import{_ as x}from"./uni-card.a44f7720.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.182aacaf.js";const I=v({data:()=>({Meunarr:[{iconPath:"/static/get.png",text:"获取课程",active:!1},{iconPath:"/static/into.png",text:"入库课程",active:!1}],p:1,maxID:"",allVideos:[]}),methods:{getMeunindex(t){0==t.index?(this.allVideos=[],s({title:"获取中",success:()=>{this.getAllvideos()}})):1==t.index&&this.intoMyclass()},getAllvideos(){this.$req.post("Student/Course/getCoursesCanApply.html",{p:this.p,maxID:this.maxID},(s=>{let e=JSON.parse(s.data);if(0==e[1].length)return plus.nativeUI.toast("您没有可入库的课程了"),void t();this.maxID=e[0],this.p=this.p+1,e[1].map(((s,t)=>{this.allVideos.push(s)})),this.getAllvideos()}))},intoMyclass(){0!=this.allVideos.length?this.allVideos.map(((s,t)=>{this.$req.post("Student/Course/courseRegister.html",{courseID:s.courseID},(t=>{s.success="已入库该课程"}))})):plus.nativeUI.toast("请先获取课程")}}},[["render",function(s,t,v,I,j,_){const y=f(c("uni-fab"),g),D=m,M=f(c("uni-card"),x),V=o;return e(),a(V,null,{default:i((()=>[n(y,{content:j.Meunarr,onTrigger:_.getMeunindex},null,8,["content","onTrigger"]),(e(!0),r(u,null,l(j.allVideos,((t,o)=>(e(),a(M,{key:o,"is-shadow":!0,cover:s.$req.getIP()+`/upload/courseImgs/${t.courseImg}`},{default:i((()=>[n(D,{class:"uni-body"},{default:i((()=>[d(p(t.courseName),1)])),_:2},1024),h("p",{class:"uni-body c-gree"},p(t.success),1)])),_:2},1032,["cover"])))),128))])),_:1})}]]);export{I as default};
